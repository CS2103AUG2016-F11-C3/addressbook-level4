# A0131560U
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void setTags_duplicateTags_duplicateDeleted() throws Exception {
        UniqueTagList tags;

        thrown.expect(DuplicateDataException.class);
        TestDataHelper helper = new TestDataHelper();
        Item toBeAdded = helper.workingItemWithTags("important", "incredible", "important", "priority1");
        TaskBook expectedTB = new TaskBook();
        expectedTB.addItem(toBeAdded);

        assertCommandBehavior(helper.generateAddCommand(toBeAdded),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAdded), expectedTB, expectedTB.getItemList());

    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void setTags_multipleValidTags_parsedCorrectly() {
        try {
            TestDataHelper helper = new TestDataHelper();
            Item toBeAdded = helper.workingItemWithTags("important", "mustfinish", "incredible", "priority1");
            TaskBook expectedTB = new TaskBook();
            expectedTB.addItem(toBeAdded);

            assertCommandBehavior(helper.generateAddCommand(toBeAdded),
                    String.format(AddCommand.MESSAGE_SUCCESS,toBeAdded.getType(), toBeAdded), expectedTB, expectedTB.getItemList());
        } catch (Exception e) {
            e.printStackTrace();
            assert false : "not possible";
        }

    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void setTags_tagNotAlphaNum_errorMessageShown() throws Exception {

        thrown.expect(IllegalValueException.class);
        TestDataHelper helper = new TestDataHelper();
        Item toBeAdded = helper.workingItemWithTags("hello!");
        String expectedMessage = String.format(Tag.MESSAGE_TAG_CONSTRAINTS);

        assertCommandBehavior(helper.generateAddCommand(toBeAdded), expectedMessage);
    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void setTags_tagNotMarkedWithHashtag_successfulWithoutTags() {
        try {
            UniqueTagList tags;
            TestDataHelper helper = new TestDataHelper();
            Item toBeAdded = helper.workingItemWithTags();
            TaskBook expectedTB = new TaskBook();
            expectedTB.addItem(toBeAdded);

            assertCommandBehavior("add \"Working item\" from October 10 10:10am to 12 December 12:12pm tag tag tags",
                    String.format(AddCommand.MESSAGE_SUCCESS, toBeAdded.getType(), toBeAdded), expectedTB, expectedTB.getItemList());

        } catch (Exception e) {
            e.printStackTrace();
            assert false : "not possible";
        }

    }

    @Test
    public void execute_list_showsAllItems() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedAB = helper.generateTaskBook(2);
        List<? extends ReadOnlyItem> expectedList = expectedAB.getItemList();

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list", (String.format(ListCommand.MESSAGE_SUCCESS,"")), expectedAB, expectedList);
    }
    
    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_listTasks_showsAllTasks() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        Item event1 = helper.aDeadLine();
        Item event2 = helper.aLongEvent();
        Item task = helper.aFloatingTask();
        List<Item> allItems = helper.generateItemList(event1, event2, task);
        List<Item> expectedList = helper.generateItemList(task);
        TaskBook expectedTB = helper.generateTaskBook(allItems);

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list task", (String.format(ListCommand.MESSAGE_SUCCESS,"that are a task")), expectedTB, expectedList);
    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_listEvents_showsAllEvents() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedAB = helper.generateTaskBook(2);
        List<? extends ReadOnlyItem> expectedList = expectedAB.getItemList();

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list", (String.format(ListCommand.MESSAGE_SUCCESS,"")), expectedAB, expectedList);
    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_listDone_showsAllDone() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedAB = helper.generateTaskBook(2);
        List<? extends ReadOnlyItem> expectedList = expectedAB.getItemList();

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list", (String.format(ListCommand.MESSAGE_SUCCESS,"")), expectedAB, expectedList);
    }
    
    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_listUndone_showsAllUndone() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedAB = helper.generateTaskBook(2);
        List<? extends ReadOnlyItem> expectedList = expectedAB.getItemList();

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list", (String.format(ListCommand.MESSAGE_SUCCESS,"")), expectedAB, expectedList);
    }
    
    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_listOverdue_showsAllOverdue() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedAB = helper.generateTaskBook(2);
        List<? extends ReadOnlyItem> expectedList = expectedAB.getItemList();

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list", (String.format(ListCommand.MESSAGE_SUCCESS,"")), expectedAB, expectedList);
    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_findAfterListRestricted_showsSpecificItems() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedAB = helper.generateTaskBook(2);
        List<? extends ReadOnlyItem> expectedList = expectedAB.getItemList();

        // prepare task book state
        helper.addToModel(model, 2);
        assertCommandBehavior("list", (String.format(ListCommand.MESSAGE_SUCCESS,"")), expectedAB, expectedList);
    }
    
    /**
     * Confirms the 'invalid argument index number behaviour' for the given
     * command targeting a single item in the shown list, using visible index.
     * 
     * @param commandWord
     *            to test assuming it targets a single item in the last shown
     *            list based on visible index.
     */
    private void assertIncorrectIndexFormatBehaviorForCommand(String commandWord, String expectedMessage)
            throws Exception {
        assertCommandBehavior(commandWord, expectedMessage); // index missing
        assertCommandBehavior(commandWord + " +1", expectedMessage); // index
                                                                     // should
                                                                     // be
                                                                     // unsigned
        assertCommandBehavior(commandWord + " -1", expectedMessage); // index
                                                                     // should
                                                                     // be
                                                                     // unsigned
        assertCommandBehavior(commandWord + " 0", expectedMessage); // index
                                                                    // cannot be
                                                                    // 0
        assertCommandBehavior(commandWord + " not_a_number", expectedMessage);
    }

    /**
     * Confirms the 'invalid argument index number behaviour' for the given
     * command targeting a single item in the shown list, using visible index.
     * 
     * @param commandWord
     *            to test assuming it targets a single item in the last shown
     *            list based on visible index.
     */
    private void assertIndexNotFoundBehaviorForCommand(String commandWord) throws Exception {
        String expectedMessage = MESSAGE_INVALID_ITEM_DISPLAYED_INDEX;
        TestDataHelper helper = new TestDataHelper();
        List<Item> itemList = helper.generateItemList(2);

        // set AB state to 2 items
        model.resetData(new TaskBook());
        for (Item p : itemList) {
            model.addItem(p);
        }

        assertCommandBehavior(commandWord + " 3", expectedMessage, model.getTaskBook(), itemList);
    }

    @Test
    public void execute_selectInvalidArgsFormat_errorMessageShown() throws Exception {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, SelectCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("select", expectedMessage);
    }

    @Test
    public void execute_selectIndexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("select");
    }

    @Test
    public void execute_select_jumpsToCorrectItem() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        List<Item> threeItems = helper.generateItemList(3);

        TaskBook expectedAB = helper.generateTaskBook(threeItems);
        helper.addToModel(model, threeItems);

        assertCommandBehavior("select 2", String.format(SelectCommand.MESSAGE_SELECT_PERSON_SUCCESS, 2), expectedAB,
                expectedAB.getItemList());
        assertEquals(1, targetedJumpIndex);
        assertEquals(model.getFilteredItemList().get(1), threeItems.get(1));
    }

    @Test
    public void execute_deleteInvalidArgsFormat_errorMessageShown() throws Exception {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, DeleteCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("delete", expectedMessage);
    }

    @Test
    public void execute_deleteIndexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("delete");
    }

    @Test
    public void execute_delete_removesCorrectItem() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        List<Item> threeItems = helper.generateItemList(3);

        TaskBook expectedAB = helper.generateTaskBook(threeItems);
        expectedAB.removeItem(threeItems.get(1));
        helper.addToModel(model, threeItems);

        assertCommandBehavior("delete 2", String.format(DeleteCommand.MESSAGE_DELETE_ITEM_SUCCESS, threeItems.get(1)),
                expectedAB, expectedAB.getItemList());
    }

    @Test
    public void execute_find_invalidArgsFormat() throws Exception {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, FindCommand.MESSAGE_USAGE);
        assertCommandBehavior("find ", expectedMessage);
    }

    @Test
    public void execute_find_matchesPartialDescriptions() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item pTarget1 = helper.generateItemWithName("bla bla KEY bla");
        Item pTarget2 = helper.generateItemWithName("bla KEY bla bceofeia");
        Item pTarget3 = helper.generateItemWithName("KEYKEYKEY sduauo");
        Item p1 = helper.generateItemWithName("KE Y");

        List<Item> fourItems = helper.generateItemList(p1, pTarget1, pTarget2, pTarget3);
        TaskBook expectedAB = helper.generateTaskBook(fourItems);
        List<Item> expectedList = helper.generateItemList(pTarget1, pTarget2, pTarget3);
        helper.addToModel(model, fourItems);

        assertCommandBehavior("find \"KEY\"", Command.getMessageForItemListShownSummary(expectedList.size()), expectedAB,
                expectedList);
    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_find_matchesTag() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item pTarget1 = helper.workingItemWithTags("KEY", "KOY", "KAY");
        Item pTarget2 = helper.workingItemWithTags("K1E", "koY", "KAYaKey");
        Item p2 = helper.workingItemWithTags("kov1aAN", "kleptomANIaC", "1234");
        Item p1 = helper.workingItemWithTags("K1E", "K", "KAY");

        List<Item> fourItems = helper.generateItemList(p1, pTarget1, pTarget2, p2);
        TaskBook expectedAB = helper.generateTaskBook(fourItems);
        List<Item> expectedList = helper.generateItemList(pTarget1, pTarget2);
        helper.addToModel(model, fourItems);

        assertCommandBehavior("find #KEY", Command.getMessageForItemListShownSummary(expectedList.size()), expectedAB,
                expectedList);
    }

    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_find_searchTags() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item pTarget1 = helper.workingItemWithTags("working", "KOY", "KAY");
        Item pTarget2 = helper.workingItemWithTags("K1E", "workING12085", "KAYaKey");
        Item p2 = helper.workingItemWithTags("kov1aAN", "kleptomANIaC", "1234");
        Item p1 = helper.workingItemWithTags("K1E", "K", "KAY");

        List<Item> fourItems = helper.generateItemList(p1, pTarget1, pTarget2, p2);
        TaskBook expectedAB = helper.generateTaskBook(fourItems);
        List<Item> expectedList = helper.generateItemList(pTarget1, pTarget2);
        helper.addToModel(model, fourItems);

        assertCommandBehavior("find #work", Command.getMessageForItemListShownSummary(expectedList.size()), expectedAB,
                expectedList);
    }
    
    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_find_searchDate() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item pTarget1 = helper.workingItemWithDates("yup",LocalDateTime.of(2016, 10, 9, 10, 10),
                                                    LocalDateTime.of(2016, 12, 12, 20, 20));
        Item pTarget2 = helper.workingItemWithDates("yep",LocalDateTime.of(2016, 12, 12, 21, 20));
        Item p2 = helper.workingItemWithDates("no");
        Item p1 = helper.workingItemWithDates("nop",LocalDateTime.of(2016, 9, 10, 10, 10),
                                                    LocalDateTime.of(2016, 11, 12, 20, 20));

        List<Item> fourItems = helper.generateItemList(p1, pTarget1, pTarget2, p2);
        TaskBook expectedAB = helper.generateTaskBook(fourItems);
        List<Item> expectedList = helper.generateItemList(pTarget1, pTarget2);
        helper.addToModel(model, fourItems);

        assertCommandBehavior("find 12 december", Command.getMessageForItemListShownSummary(expectedList.size()), expectedAB,
                expectedList);
    }
    
    @Test
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    public void execute_find_isNotCaseSensitive() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item p1 = helper.generateItemWithName("bla bla KEY bla");
        Item p2 = helper.generateItemWithName("bla KEY bla bceofeia");
        Item p3 = helper.generateItemWithName("key key");
        Item p4 = helper.generateItemWithName("KEy sduauo");

        List<Item> fourItems = helper.generateItemList(p3, p1, p4, p2);
        TaskBook expectedAB = helper.generateTaskBook(fourItems);
        List<Item> expectedList = fourItems;
        helper.addToModel(model, fourItems);

        assertCommandBehavior("find \"KEY\"", Command.getMessageForItemListShownSummary(expectedList.size()), expectedAB,
                expectedList);
    }

    @Test
    public void execute_find_matchesIfAllKeywordsPresent() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item pTarget = helper.generateItemWithName("bla rAnDoM bla key bceofeia");
        Item p1 = helper.generateItemWithName("bla bla random bla");
        Item p2 = helper.generateItemWithName("key key");
        Item p3 = helper.generateItemWithName("sduauo");

        List<Item> fourItems = helper.generateItemList(p2, p1, p3, pTarget);
        TaskBook expectedAB = helper.generateTaskBook(fourItems);
        List<Item> expectedList = helper.generateItemList(pTarget);
        helper.addToModel(model, fourItems);

        assertCommandBehavior("find \"key\" \"rAnDoM\"", Command.getMessageForItemListShownSummary(expectedList.size()),
                expectedAB, expectedList);
    }

    @Test
    public void execute_doneIndexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("done");
    }

    @Test
    public void execute_done_marksCorrectItem() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item target = helper.generateItem(1);
        Item notTarget1 = helper.generateItem(2);
        Item notTarget2 = helper.generateItem(3);
        Item notTarget3 = helper.generateItem(4);

        List<Item> expectedItems = helper.generateItemList(notTarget3, target, notTarget1, notTarget2);
        TaskBook expectedTB = helper.generateTaskBook(expectedItems);
        helper.addToModel(model, expectedItems);

        assertCommandBehavior("done 2", DoneCommand.MESSAGE_DONE_ITEM_SUCCESS, expectedTB, expectedItems);

    }

    @Test
    public void execute_doneAlreadyDoneItem_noChange() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Item target = helper.generateItem(1);
        target.setIsDone(true);
        Item notTarget1 = helper.generateItem(2);
        Item notTarget2 = helper.generateItem(3);
        Item notTarget3 = helper.generateItem(4);

        List<Item> expectedItems = helper.generateItemList(notTarget3, target, notTarget1, notTarget2);
        TaskBook expectedTB = helper.generateTaskBook(expectedItems);
        helper.addToModel(model, expectedItems);

        assertCommandBehavior("done 2", DoneCommand.MESSAGE_DONE_ITEM_FAIL, expectedTB, expectedItems);

    }
    
    /**
     * Test for invalid index input for edit command
     * @throws Exception
     * 
     * @author darren
```
###### \java\seedu\address\model\item\ItemTest.java
``` java
    public void equals_sameItem_returnsTrue(){
        try {
            Item testItem = new Item(new Description("Testing 123"),
                                    LocalDateTime.of(2016, 10, 10, 10, 10),
                                    LocalDateTime.of(2016, 10, 12, 12, 12),
                                    new UniqueTagList());
            assertTrue(testItem.equals(testItem));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false: "not possible";
        }
    }
    
    @Test
```
###### \java\seedu\address\model\item\ItemTest.java
``` java
    public void equals_sameData_returnsTrue(){
        try {
            Item testItem1 = new Item(new Description("Testing 123"),
                                    LocalDateTime.of(2016, 10, 10, 10, 10),
                                    LocalDateTime.of(2016, 10, 12, 12, 12),
                                    new UniqueTagList());
            Item testItem2 = new Item(new Description("Testing 123"),
                    LocalDateTime.of(2016, 10, 10, 10, 10),
                    LocalDateTime.of(2016, 10, 12, 12, 12),
                    new UniqueTagList());

            assertTrue(testItem1.equals(testItem2));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false: "not possible";
        }
    }
    
    @Test
```
###### \java\seedu\address\model\item\ItemTest.java
``` java
    public void equals_differentTags_returnsFalse(){
        try {
            Item testItem1 = new Item(new Description("Testing 123"), null, null,
                                    new UniqueTagList(new Tag("hell")));
            Item testItem2 = new Item(new Description("Testing 123"), null, null,
                    new UniqueTagList(new Tag("hello")));
            assertFalse(testItem1.equals(testItem2));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false: "not possible";
        }
    }
    
    @Test
```
###### \java\seedu\address\model\item\ItemTest.java
``` java
    public void equals_differentDescription_returnsFalse(){
        try {
            Item testItem1 = new Item(new Description("Testing 124"), null, null,
                                    new UniqueTagList(new Tag("hello")));
            Item testItem2 = new Item(new Description("Testing 123"), null, null,
                    new UniqueTagList(new Tag("hello")));
            assertFalse(testItem1.equals(testItem2));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false: "not possible";
        }

    }
    
    @Test
```
###### \java\seedu\address\model\item\ItemTest.java
``` java
    public void equals_differentStartTime_returnsFalse(){
        try {
            Item testItem1 = new Item(new Description("Testing 123"),
                                    LocalDateTime.of(2016, 10, 10, 10, 10),
                                    LocalDateTime.of(2016, 10, 12, 12, 12),
                                    new UniqueTagList());
            Item testItem2 = new Item(new Description("Testing 123"),
                    LocalDateTime.of(2016, 10, 10, 10, 11),
                    LocalDateTime.of(2016, 10, 12, 12, 12),
                    new UniqueTagList());

            assertTrue(testItem1.equals(testItem2));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false: "not possible";
        }
    }

    @Test
```
###### \java\seedu\address\model\item\ItemTest.java
``` java
    public void equals_different_EndTime_returnsFalse(){
        try {
            Item testItem1 = new Item(new Description("Testing 123"),
                                    LocalDateTime.of(2016, 10, 10, 10, 10),
                                    LocalDateTime.of(2016, 10, 12, 12, 12),
                                    new UniqueTagList());
            Item testItem2 = new Item(new Description("Testing 123"),
                    LocalDateTime.of(2016, 10, 10, 10, 10),
                    LocalDateTime.of(2016, 10, 12, 12, 13),
                    new UniqueTagList());

            assertTrue(testItem1.equals(testItem2));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false: "not possible";
        }
    }



}
```
